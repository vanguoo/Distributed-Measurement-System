### coreDNS
```
$ kubectl get pods -n kube-system
NAME                                 READY   STATUS             RESTARTS   AGE
coredns-7ff77c879f-jj2s4             0/1     CrashLoopBackOff   2          2m8s
coredns-7ff77c879f-q6zcq             0/1     CrashLoopBackOff   2          2m8s
```



查看日志：

```
$ kubectl describe po coredns-7ff77c879f-csg9p -n kube-system
Events:
  Type     Reason            Age                   From                 Message
  ----     ------            ----                  ----                 -------
  Warning  FailedScheduling  2m42s (x6 over 3m1s)  default-scheduler    0/1 nodes are available: 1 node(s) had taint {node.kubernetes.io/not-ready: }, that the pod didn't tolerate.
  Warning  FailedScheduling  46s (x4 over 2m31s)   default-scheduler    0/2 nodes are available: 2 node(s) had taint {node.kubernetes.io/not-ready: }, that the pod didn't tolerate.
  Normal   Scheduled         36s                   default-scheduler    Successfully assigned kube-system/coredns-7ff77c879f-csg9p to van-master
  Normal   Pulled            15s (x3 over 34s)     kubelet, van-master  Container image "registry.aliyuncs.com/google_containers/coredns:1.6.7" already present on machine
  Normal   Created           14s (x3 over 34s)     kubelet, van-master  Created container coredns
  Normal   Started           14s (x3 over 34s)     kubelet, van-master  Started container coredns
  Warning  BackOff           5s (x5 over 32s)      kubelet, van-master  Back-off restarting failed container


$ kubectl logs coredns-7ff77c879f-csg9p -n kube-system
.:53
[INFO] plugin/reload: Running configuration MD5 = 4e235fcc3696966e76816bcd9034ebc7
CoreDNS-1.6.7
linux/amd64, go1.13.6, da7f65b
[FATAL] plugin/loop: Loop (127.0.0.1:52232 -> :53) detected for zone ".", see https://coredns.io/plugins/loop#troubleshooting. Query: "HINFO 156673151660611306.7826293930723474738.
```



解决：

```
vim /etc/resolv.conf
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1  修改成 114.114.114.114
search DHCP HOST
```

删除coredns

```
$ kubectl delete po coredns-7ff77c879f-cnxvh -n kube-system
```



成功

```
NAME                                 READY   STATUS    RESTARTS   AGE
coredns-7ff77c879f-mf2r5             1/1     Running   0          15s
coredns-7ff77c879f-n7rvz             1/1     Running   0          10m
```



## docker客户端错误



```
$ docker ps
Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
```

```
docker-machine restart
eval $(docker-machine env default)
```
或：

```
rm -rf $HOME/.docker/machine/machines/default
docker-machine create default
eval "$(docker-machine env default)"
```





## websocket网页错误

安装websocket调试工具：

```
$ npm install -g wscat
/usr/bin/wscat -> /usr/lib/node_modules/wscat/bin/wscat
+ wscat@4.0.1
```





```
$ wscat -c ws://127.0.0.1:39002
error: socket hang up
> #
```







```
$ netstat -nltp | grep 3000
```



### 内网穿透



